{"componentChunkName":"component---src-templates-post-template-js","path":"/ssl-lets-encrypt","result":{"data":{"markdownRemark":{"id":"f949a338-2074-571d-809b-be7d290535d9","html":"<p><img src=\"https://www.linuxmaker.com/fileadmin/user_upload/Images/letsencrypt.png\" alt=\"logo\"></p>\n<p>In this post, we will see how we can secure our site using SSL certificate using Let’s Encrypt. It’s known that SSL/TLS encryption of your website leads to higher search rankings and better security for your users. However, there are a number of barriers that have prevented website owners from adopting SSL such as the cost and the manual processes involved in getting a certificate.</p>\n<p>With Let’s Encrypt, they are no longer a concern. Let’s Encrypt makes SSL/TLS encryption freely available to everyone.</p>\n<p>Before we dive in , Let’s understand what Let’s encrypt it. Let’s Encrypt is a free, automated, and open certificate authority (CA). and are trusted by most browsers today. In addition, Let’s Encrypt fully automates both issuing and renewing of certificates. WOW - Isn’t that exciting ??</p>\n<p><strong>Prerequisites</strong></p>\n<ol>\n<li>Any webserver like Apache , NGINX. (In this article, we will be using NGINX)</li>\n<li>Own a custom domain.</li>\n<li>Create a DNS record (A record) that associates your domain name and your server’s public IP address.</li>\n</ol>\n<p>Let’s get started.</p>\n<h4 id=\"install-and-configure-nginx\" style=\"position:relative;\"><a href=\"#install-and-configure-nginx\" aria-label=\"install and configure nginx permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install and Configure NGINX</h4>\n<p>Please refer to the documentation outlined <a href=\"http://nginx.org/en/linux_packages.html\">here</a></p>\n<p>I am using Ubuntu so it’s as easy as executing the below command:</p>\n<pre><code class=\"language-bash\">sudo apt install nginx\n</code></pre>\n<p>Check if service is running</p>\n<pre><code class=\"language-bash\">sudo service nginx status\n</code></pre>\n<p>Output:</p>\n<pre><code>durgadas@dk:~$ sudo service nginx status\n● nginx.service - A high performance web server and a reverse proxy server\n     Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)\n     Active: active (running) since Sat 2021-05-22 16:13:25 UTC; 16h ago\n       Docs: man:nginx(8)\n    Process: 1359 ExecStartPre=/usr/sbin/nginx -t -q -g daemon on; master_process on; (code=exited, status=0/SUCCESS)\n    Process: 1370 ExecStart=/usr/sbin/nginx -g daemon on; master_process on; (code=exited, status=0/SUCCESS)\n   Main PID: 1371 (nginx)\n      Tasks: 3 (limit: 1117)\n     Memory: 4.3M\n     CGroup: /system.slice/nginx.service\n             ├─1371 nginx: master process /usr/sbin/nginx -g daemon on; master_process on;\n             ├─1421 nginx: worker process\n             └─1422 nginx: worker process\n\nMay 22 16:13:25 vm-1 systemd[1]: Starting A high performance web server and a reverse proxy server...\nMay 22 16:13:25 vm-1 systemd[1]: Started A high performance web server and a reverse proxy server.\n</code></pre>\n<p><strong>Configuration</strong></p>\n<p>In the following file <code>/etc/nginx/sites-available/default</code> , update the value aginst the server_name to the domain-name you own.</p>\n<pre><code class=\"language-bash\">server{\n  .......\n    server_name cert.durgadas.in;\n  .......\n}\n</code></pre>\n<p>Once done restart the nginx using <code>service nginx restart</code></p>\n<h4 id=\"create-dns-record-and-verify-the-site\" style=\"position:relative;\"><a href=\"#create-dns-record-and-verify-the-site\" aria-label=\"create dns record and verify the site permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Create DNS Record and Verify the Site</h4>\n<ol>\n<li>Create ‘A’ record in your DNS setting to point to the Server where you have NGINX installed.</li>\n<li>Hit your domain in the browser and verify that the NGINX page is displayed with “Non Secure”</li>\n</ol>\n<p><img src=\"/media/ssl-letsencrypt/non-secure.png\" alt=\"nonsecure\"></p>\n<h4 id=\"install-certbot-client\" style=\"position:relative;\"><a href=\"#install-certbot-client\" aria-label=\"install certbot client permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install CertBot Client</h4>\n<p>Visit the certbot site : <a href=\"https://certbot.eff.org/\">https://certbot.eff.org/</a> to install the client based on your OS and Server.</p>\n<p>As we are using Ubuntu, we can install using the following command</p>\n<pre><code class=\"language-bash\">sudo snap install --classic certbot\n</code></pre>\n<h4 id=\"obtain-ssl-certificate-from-lets-encrypt\" style=\"position:relative;\"><a href=\"#obtain-ssl-certificate-from-lets-encrypt\" aria-label=\"obtain ssl certificate from lets encrypt permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Obtain SSL Certificate from Let’s Encrypt/</h4>\n<pre><code>sudo cerbot --nginx -d cert.durgadas.in   ##replace cert.durgadas.in with your domain name\n</code></pre>\n<p>In the process, you will be requested for certain information like email , consent to register with ACME etc.</p>\n<p>Output:</p>\n<pre><code>durgadas@dk:~# sudo certbot --nginx -d cert.durgadas.in\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\nPlugins selected: Authenticator nginx, Installer nginx\nEnter email address (used for urgent renewal and security notices)\n (Enter 'c' to cancel): xxxxxxxxxx\n\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nPlease read the Terms of Service at\nhttps://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf. You must\nagree in order to register with the ACME server. Do you agree?\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n(Y)es/(N)o: Y\n\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nWould you be willing, once your first certificate is successfully issued, to\nshare your email address with the Electronic Frontier Foundation, a founding\npartner of the Let's Encrypt project and the non-profit organization that\ndevelops Certbot? We'd like to send you email about our work encrypting the web,\nEFF news, campaigns, and ways to support digital freedom.\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n(Y)es/(N)o: N\nAccount registered.\nRequesting a certificate for cert.durgadas.in\nPerforming the following challenges:\nhttp-01 challenge for cert.durgadas.in\nWaiting for verification...\nCleaning up challenges\nDeploying Certificate to VirtualHost /etc/nginx/sites-enabled/default\nRedirecting all traffic on port 80 to ssl in /etc/nginx/sites-enabled/default\n\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nCongratulations! You have successfully enabled https://cert.durgadas.in\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n</code></pre>\n<h4 id=\"verify-site\" style=\"position:relative;\"><a href=\"#verify-site\" aria-label=\"verify site permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Verify Site</h4>\n<p><img src=\"/media/ssl-letsencrypt/secure.png\" alt=\"secure\"></p>\n<h4 id=\"automatically-renew-lets-encrypt-certificates\" style=\"position:relative;\"><a href=\"#automatically-renew-lets-encrypt-certificates\" aria-label=\"automatically renew lets encrypt certificates permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Automatically Renew Let’s Encrypt Certificates</h4>\n<p>Let’s Encrypt certificates expire after 90 days. We can renew the certificates automatically by adding the below to crontab.</p>\n<p><code>0 12 * * * /usr/bin/certbot renew --quiet</code></p>\n<p>Conclusion:\nWe saw in this article how quickly we can setup SSL certificates for our domains in short time. Hope you loved it. Do share your thoughts.</p>\n<p>Happy Learning.</p>","fields":{"slug":"/ssl-lets-encrypt","tagSlugs":["/tag/letsencrypt","/tag/secured"],"categorySlug":"/category/security"},"frontmatter":{"date":"2021-05-23T12:00:02.039Z","description":"Non-Secure to Secure using Lets Encrypt with automated renewal","category":"security","tags":["letsencrypt","secured"],"title":"SSL using Let's Encrypt"}}},"pageContext":{"slug":"/ssl-lets-encrypt","allCategories":[{"fieldValue":"documentation","totalCount":1,"categoryColor":"pink-600"},{"fieldValue":"security","totalCount":1,"categoryColor":"green-600"},{"fieldValue":"technical","totalCount":1,"categoryColor":"indigo-600"}]}},"staticQueryHashes":["2052939023","251939775","401334301"]}